<!Doctype-html>
<html>

	<head>
    		<title>Math olympiad</title>
	</head>
<style>

    #typing_stuff {
    	display: block;
    }
	#Test_results {
    	display:none;
    }
</style>
<link rel="icon"  href="https://fremontunified.org/forestpark/wp-content/uploads/sites/23/2023/06/forest-park.png" />
<script>
	async function view() {
		const res = await fetch('Math Olympiad_Sheet_json.json')
		data = await res.json();
		//console.log(data[0]['Name']);
	  	//console.log(document.getElementById('name').value);
		correct = 0;
		for (let i = 0;i<data.length; i++) {
			console.log(data[i]['Name'] === document.getElementById('name').value && data[i]['Room Number'].toString() === document.getElementById('room').value && (document.getElementById('email').value === data[i]['Parent email'] || (document.getElementById('email').value === data[i]['Additional Parent email'] && !(data[i]['Additional Parent email'] === ''))))
			if (data[i]['Name'] === document.getElementById('name').value && data[i]['Room Number'].toString() === document.getElementById('room').value && (document.getElementById('email').value === data[i]['Parent email'] || (document.getElementById('email').value === data[i]['Additional Parent email'] && !(data[i]['Additional Parent email'] === '')))){
				document.getElementById('Test 1').innerText +=' :'+data[i]['Test 1'];
				document.getElementById('Test 2').innerText +=' :'+data[i]['Test 2'];
				document.getElementById('Test 3').innerText +=' :'+data[i]['Test 3'];
				document.getElementById('Test 4').innerText +=' :'+data[i]['Test 4'];
				document.getElementById('Test 5').innerText +=' :'+data[i]['Test 5'];
				document.getElementById('Total Score').innerText +=' :'+data[i]['Total Score'];
				document.getElementById('typing_stuff').style.display = 'none';
				document.getElementById('Test_results').style.display = 'block';
				correct = 1;
				
			}
		}
		if (correct===0) {
			alert('invalid email and/or room number and/or name');
			return 0;
		}
		
  }
  </script>
  <body>


    <h1 style='text-align:center'> Math Olympiad Test Result Viewer </h1>
    <center id='typing_stuff'>
    <p>Type the students name(first and last name)</p><input type="text" id="name" name="name" value="" style='text-align:center '><p>Type Your email</p><input type="text" id="email" name="email" value="" style='text-align:center '><p>Type the students room number</p><input type="text" id="room" name="room" value="" style='text-align:center '>
    <p><p>
    <button onclick='view()'>View Test</button>
    </center>
    <div id='Test_results'>
    	<p style='text-align: center;' id='Test 1'>Test 1 Result</p>
        <p style='text-align: center;' id='Test 2'>Test 2 Result</p>
        <p style='text-align: center;' id='Test 3'>Test 3 Result</p>
        <p style='text-align: center;' id='Test 4'>Test 4 Result</p>
        <p style='text-align: center;' id='Test 5'>Test 5 Result</p>
	<p style='text-align: center;' id='Total Score'>Total Score</p>
    </div>
  </body>
</html>

